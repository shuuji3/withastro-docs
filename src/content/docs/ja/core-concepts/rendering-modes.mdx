---
title: "レンダリングモード"
i18nReady: true
---
import PackageManagerTabs from '~/components/tabs/PackageManagerTabs.astro';
import RecipeLinks from '~/components/RecipeLinks.astro';

Astroプロジェクトをウェブ上で表示するためには、HTMLとして**レンダリング**する必要があります。

Astroのページ、ルート、APIエンドポイントは、[ビルド時にプリレンダリングする](#プリレンダリング)ことも、ルートがリクエストされたときに[サーバーによりオンデマンドでレンダリングする](#オンデマンドレンダリング)こともできます。[Astroアイランド](/ja/concepts/islands/)を使用すれば、必要に応じてクライアントサイドのレンダリングを含めることも可能です。

Astroでは、処理のほとんどはブラウザではなくサーバー上で実行されます。これにより、一般に処理能力の低いデバイスや低速のインターネット接続で表示したときに、クライアントサイドのレンダリングを行うよりもサイトやアプリが高速になります。サーバーでレンダリングされたHTMLは高速で、SEOフレンドリーであり、デフォルトでアクセシブルです。

## サーバーの`output`モード

ページのレンダリング方法は、[`output`設定](/ja/reference/configuration-reference/#output)で設定できます。

### プリレンダリング

**デフォルトのレンダリングモードは __`output: 'static'`__ です**。これは、ビルド時にすべてのページルートに対してHTMLを作成します。

このモードでは、**サイト全体がプリレンダリングされ**、サーバーはすべてのページを事前にビルドしてブラウザに送信する準備を完了します。同じHTMLドキュメントがすべての訪問者にブラウザに送信され、ページのコンテンツを更新するにはサイト全体の再ビルトが必要になります。この方法は、**スタティックサイトジェネレーション（static site generation、SSG）** とも呼ばれます。

デフォルトでは、すべてのAstroプロジェクトは、最も軽量なブラウザ体験を提供するために、ビルド時にプリレンダリングされる（スタティックに生成される）ように設定されます。サーバーはどのページもオンデマンドで生成する必要がないため、ブラウザはどのHTMLの生成も待つ必要はありません。サイトはバックエンドのデータソースの性能に依存せず、一度ビルドされれば、サーバーが動作している限り、訪問者はスタティックサイトとして引き続き利用できます。

スタティックサイトには、スタティックでプリレンダリングされたページ内に、[自由に選んだUIフレームワーク](/ja/core-concepts/framework-components/)で書かれたインタラクティブなUIコンポーネント（あるいは、組み込まれてクライアント側でレンダリングされるアプリ全体！）のために[Astroアイランド](/ja/concepts/islands/)として含められます。

Astroの[ビュートランジションAPI](/ja/guides/view-transitions/)は、ページナビゲーションを横断するアニメーションやステートの永続化のために、`static`モード内でも利用できます。スタティックサイトは、[ミドルウェア](/ja/guides/middleware/)を利用することで、リクエストのレスポンスデータをインターセプトして変換することもできます

:::tip
Astroのデフォルトの`static`モードは、更新頻度が低く、すべての訪問者に同じページコンテンツを表示する、コンテンツが多いサイトにとって、強力でモダンな選択肢です。
:::

### オンデマンドレンダリング

Astroの他の2つのoutputモードは、**ページ、ルート、APIエンドポイントの一部または全部のオンデマンドレンダリング**を有効にすることで設定できます。
  - __`output: 'server'`__: ほとんどまたはすべてがオンデマンドのルートである、非常に動的なサイトのための設定。
  - __`output: 'hybrid'`__: 一部がオンデマンドルートであり、ほとんどがスタティックなサイトのための設定。

オンデマンドルートは訪問ごとに生成されるため、閲覧者ごとにカスタマイズできます。たとえば、オンデマンドでレンダリングされたページは、ログインユーザーにアカウント情報や新規に更新されたデータを、サイト全体を再ビルドする必要なく表示できます。リクエスト時のサーバー上でのオンデマンドレンダリングは、**サーバーサイドレンダリング（server-side rendering、SSR）** としても知られています。

以下の機能が必要なAstroプロジェクトでは、[`server`または`hybrid`モードを有効にする](/ja/guides/server-side-rendering/#enable-on-demand-server-rendering)ことを検討してください。

- **APIエンドポイント**: 機密データをクライアントから隠しながら、データベースアクセス、認証、認可などのタスクのためにAPIエンドポイントとして機能する、特定のページを作成します。

- **保護されたページ**: サーバー上でユーザーアクセスを処理し、ユーザーの権限に基づいてページへのアクセスを制限します。

- **頻繁に更新されるコンテンツ**: サイトの静的な再ビルドを必要とせずに個別のページを生成します。これは、たとえば`fetch()`で動的に呼んだAPIのデータを表示するなど、ページのコンテンツが頻繁に更新されるときに便利です。

`server`と`hybrid`のどちらのoutputモードでも、インタラクティブ性（あるいは、組み込まれてクライアント側でレンダリングされるアプリ全体！）のために、好きな[UIフレームワーク](/ja/core-concepts/framework-components/)で書かれた[Astroアイランド](/ja/concepts/islands/)を含められます。[ミドルウェア](/ja/guides/middleware/)と、ルートナビゲーションを横断するアニメーションやステートの永続化のためにAstroの[ビュートランジションAPI](/ja/guides/view-transitions/)を使用すれば、さらに高度にインタラクティブなアプリも可能です。

:::tip
Astroのオンデマンドサーバーレンダリングは、クライアントサイドのシングルページアプリケーションのJavaScriptのオーバーヘッドがない、本物のアプリ体験を提供します。
:::
